import{q as M,aj as E,y as c,G as re,P as $,ai as ce,ak as Z,H,ac as _,al as F,am as ve,an as ye,ao as de,ap as me,ad as fe,aa as z,s as X,aq as G,x as W,ar as Y,U as J,h as O,as as pe,v as ge}from"./BnBj2Zqp.js";const R=Symbol.for("vuetify:layout"),Q=Symbol.for("vuetify:layout-item"),K=1e3,he=M({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),ze=M({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function be(){const e=E(R);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function Re(e){const s=E(R);if(!s)throw new Error("[Vuetify] Could not find injected layout");const o=e.id??`layout-item-${ye()}`,i=Z("useLayoutItem");F(Q,{id:o});const n=H(!1);de(()=>n.value=!0),me(()=>n.value=!1);const{layoutItemStyles:r,layoutItemScrimStyles:u}=s.register(i,{...e,active:c(()=>n.value?!1:e.active.value),id:o});return fe(()=>s.unregister(o)),{layoutItemStyles:r,layoutRect:s.layoutRect,layoutItemScrimStyles:u}}const Ie=(e,s,o,i)=>{let n={top:0,left:0,right:0,bottom:0};const r=[{id:"",layer:{...n}}];for(const u of e){const y=s.get(u),p=o.get(u),h=i.get(u);if(!y||!p||!h)continue;const b={...n,[y.value]:parseInt(n[y.value],10)+(h.value?parseInt(p.value,10):0)};r.push({id:u,layer:b}),n=b}return r};function Se(e){const s=E(R,null),o=c(()=>s?s.rootZIndex.value-100:K),i=re([]),n=$(new Map),r=$(new Map),u=$(new Map),y=$(new Map),p=$(new Map),{resizeRef:h,contentRect:b}=ce(),ee=c(()=>{const a=new Map,d=e.overlaps??[];for(const t of d.filter(v=>v.includes(":"))){const[v,l]=t.split(":");if(!i.value.includes(v)||!i.value.includes(l))continue;const m=n.get(v),g=n.get(l),L=r.get(v),w=r.get(l);!m||!g||!L||!w||(a.set(l,{position:m.value,amount:parseInt(L.value,10)}),a.set(v,{position:g.value,amount:-parseInt(w.value,10)}))}return a}),I=c(()=>{const a=[...new Set([...u.values()].map(t=>t.value))].sort((t,v)=>t-v),d=[];for(const t of a){const v=i.value.filter(l=>{var m;return((m=u.get(l))==null?void 0:m.value)===t});d.push(...v)}return Ie(d,n,r,y)}),T=c(()=>!Array.from(p.values()).some(a=>a.value)),S=c(()=>I.value[I.value.length-1].layer),te=c(()=>({"--v-layout-left":z(S.value.left),"--v-layout-right":z(S.value.right),"--v-layout-top":z(S.value.top),"--v-layout-bottom":z(S.value.bottom),...T.value?void 0:{transition:"none"}})),x=c(()=>I.value.slice(1).map((a,d)=>{let{id:t}=a;const{layer:v}=I.value[d],l=r.get(t),m=n.get(t);return{id:t,...v,size:Number(l.value),position:m.value}})),j=a=>x.value.find(d=>d.id===a),P=Z("createLayout"),q=H(!1);_(()=>{q.value=!0}),F(R,{register:(a,d)=>{let{id:t,order:v,position:l,layoutSize:m,elementSize:g,active:L,disableTransitions:w,absolute:ne}=d;u.set(t,v),n.set(t,l),r.set(t,m),y.set(t,L),w&&p.set(t,w);const D=ve(Q,P==null?void 0:P.vnode).indexOf(a);D>-1?i.value.splice(D,0,t):i.value.push(t);const N=c(()=>x.value.findIndex(V=>V.id===t)),B=c(()=>o.value+I.value.length*2-N.value*2),se=c(()=>{const V=l.value==="left"||l.value==="right",C=l.value==="right",ue=l.value==="bottom",k=g.value??m.value,ie=k===0?"%":"px",U={[l.value]:0,zIndex:B.value,transform:`translate${V?"X":"Y"}(${(L.value?0:-(k===0?100:k))*(C||ue?-1:1)}${ie})`,position:ne.value||o.value!==K?"absolute":"fixed",...T.value?void 0:{transition:"none"}};if(!q.value)return U;const f=x.value[N.value];if(!f)throw new Error(`[Vuetify] Could not find layout item "${t}"`);const A=ee.value.get(t);return A&&(f[A.position]+=A.amount),{...U,height:V?`calc(100% - ${f.top}px - ${f.bottom}px)`:g.value?`${g.value}px`:void 0,left:C?void 0:`${f.left}px`,right:C?`${f.right}px`:void 0,top:l.value!=="bottom"?`${f.top}px`:void 0,bottom:l.value!=="top"?`${f.bottom}px`:void 0,width:V?g.value?`${g.value}px`:void 0:`calc(100% - ${f.left}px - ${f.right}px)`}}),le=c(()=>({zIndex:B.value-1}));return{layoutItemStyles:se,layoutItemScrimStyles:le,zIndex:B}},unregister:a=>{u.delete(a),n.delete(a),r.delete(a),y.delete(a),p.delete(a),i.value=i.value.filter(d=>d!==a)},mainRect:S,mainStyles:te,getLayoutItem:j,items:x,layoutRect:b,rootZIndex:o});const oe=c(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),ae=c(()=>({zIndex:s?o.value:void 0,position:s?"relative":void 0,overflow:s?"hidden":void 0}));return{layoutClasses:oe,layoutStyles:ae,getLayoutItem:j,items:x,layoutRect:b,layoutRef:h}}const xe=M({...X(),...G(),...he()},"VLayout"),Me=W()({name:"VLayout",props:xe(),setup(e,s){let{slots:o}=s;const{layoutClasses:i,layoutStyles:n,getLayoutItem:r,items:u,layoutRef:y}=Se(e),{dimensionStyles:p}=Y(e);return J(()=>{var h;return O("div",{ref:y,class:[i.value,e.class],style:[p.value,n.value,e.style]},[(h=o.default)==null?void 0:h.call(o)])}),{getLayoutItem:r,items:u}}});function Le(){const e=H(!1);return _(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:c(()=>e.value?void 0:{transition:"none !important"}),isBooted:pe(e)}}const we=M({scrollable:Boolean,...X(),...G(),...ge({tag:"main"})},"VMain"),Pe=W()({name:"VMain",props:we(),setup(e,s){let{slots:o}=s;const{dimensionStyles:i}=Y(e),{mainStyles:n}=be(),{ssrBootStyles:r}=Le();return J(()=>O(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[n.value,r.value,i.value,e.style]},{default:()=>{var u,y;return[e.scrollable?O("div",{class:"v-main__scroller"},[(u=o.default)==null?void 0:u.call(o)]):(y=o.default)==null?void 0:y.call(o)]}})),{}}});export{Me as V,Pe as a,Re as b,ze as m,Le as u};
